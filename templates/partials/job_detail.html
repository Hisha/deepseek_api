<div class="bg-gray-800 p-4 rounded-md mt-6"
     hx-get="{{ request.scope.root_path }}/job/{{ job[0] }}"
     hx-trigger="every 3s"
     hx-target="#job-detail"
     hx-swap="innerHTML">
    <h3 class="text-lg font-semibold mb-2">Job {{ job[0] }} Details</h3>
    <p><strong>Status:</strong> {{ job[2] }}</p>
    <p><strong>Prompt:</strong> {{ job[1] }}</p>
    <p><strong>Created:</strong> {{ job[4]|localtime }}</p>
    <p><strong>Completed:</strong> {{ job[5]|localtime }}</p>

    {% if job[2] == 'completed' %}
        <h4 class="mt-4 mb-2 font-bold">Download:</h4>
        <a href="{{ request.scope.root_path }}/job/{{ job[0] }}/download"
           class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
           Download Project ZIP
        </a>
    {% elif job[2] == 'error' %}
        <p class="text-red-500 mt-2">Error: {{ job[3] }}</p>
    {% else %}
        <p class="text-yellow-400 mt-2">Processing or queued...</p>
    {% endif %}
</div>
